Description: Fix paths for LSB
Author: Sebastian Wagner <wagner@cert.at>
Last-Update: 2020-04-27
---
This patch header follows DEP-3: http://dep.debian.net/deps/dep3/
--- a/intelmq-manager/php/config.php	2020-04-27 17:37:51.310011401 +0200
+++ b/intelmq-manager/php/config.php	2020-04-27 21:28:30.432810932 +0200
@@ -1,18 +1,18 @@
 <?php
     if(!($c = getenv("INTELMQ_MANGER_CONTROLLER_CMD"))) {
-        $c = "sudo -u intelmq /usr/local/bin/intelmqctl";
+        $c = "sudo -u intelmq /usr/bin/intelmqctl";
     }
 
     // to be displayed so that user can replicate
@@ -18,13 +18,13 @@
     $FILESIZE_THRESHOLD = 2000; // config files under this size gets loaded automatically; otherwise a link is generated
 
     $FILES = array(
-        'bots' 		=> '/opt/intelmq/etc/BOTS',
-        'defaults' 	=> '/opt/intelmq/etc/defaults.conf',
-        'harmonization' => '/opt/intelmq/etc/harmonization.conf',
-        'pipeline' 	=> '/opt/intelmq/etc/pipeline.conf',
-        'runtime' 	=> '/opt/intelmq/etc/runtime.conf',
-        'system' 	=> '/opt/intelmq/etc/system.conf',
-        'positions' => '/opt/intelmq/etc/manager/positions.conf',
+        'bots' 		=> '/etc/intelmq/BOTS',
+        'defaults' 	=> '/etc/intelmq/defaults.conf',
+        'harmonization' => '/etc/intelmq/harmonization.conf',
+        'pipeline' 	=> '/etc/intelmq/pipeline.conf',
+        'runtime' 	=> '/etc/intelmq/runtime.conf',
+        'system' 	=> '/etc/intelmq/system.conf',
+        'positions' => '/etc/intelmq/manager/positions.conf',
     );
     $backwardscompat = getenv("INTELMQ_MANGER_CONTROLLER_CMD");
     $controller = getenv("INTELMQ_MANAGER_CONTROLLER_CMD");
     if(!($c = $controller ? $controller : $backwardscompat)) {
-        $c = "sudo -u intelmq /usr/local/bin/intelmqctl";
+        $c = "sudo -u intelmq /usr/bin/intelmqctl";
     }
 
     // to be displayed so that user can replicate
@@ -26,6 +26,6 @@
     $BOT_ID_REJECT_REGEX = '/[^A-Za-z0-9.-]/';
     $VERSION = "2.2.0a1";
 
-    $ALLOWED_PATH = "/opt/intelmq/var/lib/bots/"; // PHP is allowed to fetch the config files from the current location in order to display bot configurations.
+    $ALLOWED_PATH = "/var/lib/intelmq/bots/"; // PHP is allowed to fetch the config files from the current location in order to display bot configurations.
     $FILESIZE_THRESHOLD = 2000; // config files under this size gets loaded automatically; otherwise a link is generated
 ?>
